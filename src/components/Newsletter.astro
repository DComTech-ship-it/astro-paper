---
import { SITE } from "@/config";

interface NewsletterProps {
  title?: string;
  description?: string;
  buttonText?: string;
  className?: string;
}

const {
  title = "Get Weekly Inspiration",
  description = "Join our community and get exclusive content delivered to your inbox",
  buttonText = "Subscribe",
  className = ""
} = Astro.props;
---

<div class={`newsletter-signup ${className}`}>
  <div class="max-w-md mx-auto">
    <div class="text-center mb-6">
      <h3 class="text-xl font-bold text-foreground mb-2">{title}</h3>
      <p class="text-sm text-muted-foreground leading-relaxed">{description}</p>
    </div>
    
    <form 
      action="https://buttondown.email/api/emails/embed-subscribe/your-email" 
      method="post"
      target="popupwindow"
      onsubmit="window.open('https://buttondown.email/your-email', 'popupwindow')"
      class="flex flex-col sm:flex-row gap-3"
    >
      <input
        type="email"
        name="email"
        placeholder="Enter your email address"
        required
        class="w-full px-4 py-3 border border-border rounded-lg bg-white dark:bg-gray-900 text-foreground placeholder:text-muted-foreground focus:outline-none focus:border-accent focus:ring-2 focus:ring-accent/20 transition-all"
      />
      <button
        type="submit"
        class="px-4 py-2 bg-accent text-white dark:text-black rounded-lg hover:bg-accent/90 transition-colors font-medium text-sm"
      >
        {buttonText}
      </button>
    </form>
    
    <p class="text-xs text-muted-foreground text-center mt-4">
      Join 1,000+ readers. No spam, unsubscribe anytime.
    </p>
  </div>
</div>

<style>
  .newsletter-signup {
    background-color: var(--background);
    border: 1px solid var(--border);
    border-radius: 0.75rem;
    padding: 1.5rem;
    box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  }
  
  .newsletter-signup input:focus {
    outline: 2px solid var(--accent);
    outline-offset: -2px;
  }
</style>
